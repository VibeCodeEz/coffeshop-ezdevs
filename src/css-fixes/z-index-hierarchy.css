/* 
===========================================
ðŸŽ¯ Z-INDEX HIERARCHY & LAYOUT FIXES
===========================================
This file establishes proper layering to prevent overlaps
*/

/* Z-INDEX HIERARCHY (from highest to lowest) */
:root {
  --z-custom-cursor: 10000;     /* Custom cursor - always on top */
  --z-tooltip: 9999;            /* Tooltips */
  --z-modal: 9000;              /* Modals and overlays */
  --z-dropdown: 8000;           /* Dropdowns */
  --z-sticky-elements: 1000;    /* Sticky cart, header */
  --z-popups: 500;              /* Quick view, notifications */
  --z-cards: 100;               /* Product cards, badges */
  --z-base: 1;                  /* Base content */
  --z-background: -1;           /* Background elements */
}

/* RESET PROBLEMATIC Z-INDEXES */
.custom-cursor { z-index: var(--z-custom-cursor) !important; }
.cursor-trail { z-index: calc(var(--z-custom-cursor) - 1) !important; }

/* MODALS & OVERLAYS */
.form-overlay,
.quick-view-overlay,
.order-details-overlay { z-index: var(--z-modal) !important; }

.quick-view-modal,
.order-details-modal { z-index: calc(var(--z-modal) + 1) !important; }

/* TOOLTIPS */
.brew-guide-tooltip { z-index: var(--z-tooltip) !important; }

/* STICKY ELEMENTS */
.header,
.sticky-cart-trigger,
.sticky-cart-panel { z-index: var(--z-sticky-elements) !important; }

/* DROPDOWNS & POPUPS */
.mobile-menu,
.cart-dropdown { z-index: var(--z-dropdown) !important; }

/* CARDS & BADGES */
.popular-badge,
.cart-count { z-index: var(--z-cards) !important; }

/* LOADING SPINNER */
.loading-spinner { z-index: calc(var(--z-modal) + 100) !important; }

/*
===========================================
ðŸ”§ INPUT GROUP FIXES - PREVENT ICON OVERLAP
===========================================
*/

/* UNIFIED INPUT GROUP STYLING */
.input-group {
  position: relative !important;
  display: flex !important;
  align-items: center !important;
  width: 100% !important;
}

.input-group svg,
.input-group .input-icon,
.input-group .item-icon {
  position: absolute !important;
  left: 12px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  z-index: 2 !important;
  pointer-events: none !important;
  color: #8b4513 !important;
  width: 20px !important;
  height: 20px !important;
}

.input-group input,
.input-group select {
  width: 100% !important;
  padding-left: 45px !important; /* Space for icon */
  padding-right: 45px !important; /* Space for right icons */
  padding-top: 12px !important;
  padding-bottom: 12px !important;
  border: 2px solid #e8dcc6 !important;
  border-radius: 8px !important;
  background: #ffffff !important;
  z-index: 1 !important;
  position: relative !important;
}

/* RIGHT-SIDE ICONS (password toggle, etc) */
.input-group .password-toggle,
.input-group .right-icon {
  position: absolute !important;
  right: 12px !important;
  left: auto !important;
  background: none !important;
  border: none !important;
  cursor: pointer !important;
  padding: 4px !important;
  z-index: 3 !important;
  pointer-events: auto !important;
}

/*
===========================================
ðŸŽ¨ CARD & BUTTON FIXES
===========================================
*/

/* PREVENT BUTTON OVERFLOW */
.macro-product-card,
.menu-item-card,
.product-card {
  position: relative !important;
  overflow: hidden !important;
}

/* BADGE POSITIONING */
.popular-badge {
  position: absolute !important;
  top: 12px !important;
  right: 12px !important;
  z-index: var(--z-cards) !important;
  white-space: nowrap !important;
  pointer-events: none !important;
}

/* BUTTON POSITIONING IN CARDS */
.add-btn-enhanced,
.cart-btn,
.action-btn {
  z-index: calc(var(--z-cards) - 1) !important;
  position: relative !important;
}

/* ICON CONSISTENCY */
.item-icon,
.demo-icon,
.feature-icon,
.stat-icon,
.quote-icon,
.info-icon,
.value-icon,
.step-icon,
.header-icon,
.option-icon {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  flex-shrink: 0 !important;
  width: auto !important;
  height: auto !important;
}

/*
===========================================
ðŸ“± MOBILE RESPONSIVE FIXES
===========================================
*/

@media (max-width: 768px) {
  /* Reduce z-index conflicts on mobile */
  .custom-cursor,
  .cursor-trail {
    display: none !important;
  }
  
  /* Adjust input padding for mobile */
  .input-group input,
  .input-group select {
    padding-left: 40px !important;
    padding-right: 40px !important;
    font-size: 16px !important; /* Prevent zoom on iOS */
  }
  
  /* Mobile icon spacing */
  .input-group svg,
  .input-group .input-icon {
    left: 10px !important;
    width: 18px !important;
    height: 18px !important;
  }
  
  .input-group .password-toggle,
  .input-group .right-icon {
    right: 10px !important;
  }
}

/*
===========================================
ðŸŽ¯ SPECIFIC COMPONENT FIXES
===========================================
*/

/* HERO BUTTON FIXES */
.btn-hero-primary,
.btn-hero-secondary {
  position: relative !important;
  z-index: var(--z-cards) !important;
  overflow: hidden !important;
}

/* CASHIER INTERFACE FIXES */
.cashier-interface .item-icon {
  margin-right: 8px !important;
  flex-shrink: 0 !important;
}

/* MENU MANAGEMENT FIXES */
.menu-management .item-icon {
  margin-right: 12px !important;
  font-size: 1.5rem !important;
}

/* CART FIXES */
.sticky-cart-trigger .cart-count {
  min-width: 20px !important;
  height: 20px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 0.75rem !important;
}

/* FORM OVERLAY BACKDROP */
.form-overlay {
  backdrop-filter: blur(5px) !important;
  background: rgba(0, 0, 0, 0.5) !important;
}